{% extends "app_core/partials/base.html" %}
{% block title %}Detalhes da Entrega{% endblock %}
{% block page_title %}Entregas{% endblock %}
{% block breadcrumb %}
  <a href="{% url 'app_core:home' %}">Início</a> ›
  <a href="{% url 'app_entregas:lista' %}">Entregas</a> › Detalhes
{% endblock %}

{% block content %}
<div class="card">
  <div class="card-header">
    <h2>Detalhes da Entrega</h2>
  </div>
  <div class="card-body">
    <dl style="display:grid; grid-template-columns: 180px 1fr; row-gap:8px; column-gap:16px; align-items:baseline;">
      <dt><strong>Data</strong></dt>
      <dd>{{ entrega.data_entrega|date:"d/m/Y H:i" }}</dd>

      <dt><strong>Colaborador</strong></dt>
      <dd>{{ entrega.colaborador.nome }}</dd>

      <dt><strong>EPI</strong></dt>
      <dd>{{ entrega.epi.nome }} ({{ entrega.epi.codigo }}) — {{ entrega.epi.categoria.nome }}</dd>

      <dt><strong>Quantidade</strong></dt>
      <dd>{{ entrega.quantidade }}</dd>

      <dt><strong>Status</strong></dt>
      <dd>
        {% if entrega.status == 'ENTREGUE' %}<span class="badge success">Entregue</span>
        {% elif entrega.status == 'DEVOLVIDO' %}<span class="badge">Devolvido</span>
        {% else %}<span class="badge">Cancelado</span>{% endif %}
      </dd>

      <dt><strong>Observação</strong></dt>
      <dd>{{ entrega.observacao|default:"—" }}</dd>
    </dl>

    <div style="margin-top:16px; display:flex; gap:8px; flex-wrap:wrap;">
      <a class="btn" href="{% url 'app_entregas:editar' entrega.pk %}">Editar</a>
      <a class="btn danger" href="{% url 'app_entregas:excluir' entrega.pk %}">Excluir</a>
      <a class="btn outline" href="{% url 'app_entregas:lista' %}">Voltar</a>
      <button class="btn outline" type="button" onclick="window.print()">Imprimir</button>
    </div>
  </div>
</div>
{% endblock %}
