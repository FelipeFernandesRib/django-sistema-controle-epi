{% extends "app_core/partials/base.html" %}
{% load static %}

{% block title %}{% if view.object %}Editar EPI{% else %}Novo EPI{% endif %}{% endblock %}
{% block page_title %}EPIs{% endblock %}
{% block breadcrumb %}
  <a href="{% url 'app_core:home' %}">Início</a> ›
  <a href="{% url 'app_epis:lista' %}">EPIs</a> ›
  {% if view.object %}Editar{% else %}Novo{% endif %}
{% endblock %}

{% block extra_css %}<link rel="stylesheet" href="{% static 'app_epis/css/main.css' %}">{% endblock %}

{% block content %}
<div class="card">
  <div class="card-header"><h2>{% if view.object %}Editar EPI{% else %}Novo EPI{% endif %}</h2></div>
  <div class="card-body">
    <form method="post" style="display:grid; gap:12px;">
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div style="display:grid; gap:12px; grid-template-columns: 1fr 1fr;">
        <div>
          <label>Código</label>
          {{ form.codigo }} {{ form.codigo.errors }}
        </div>
        <div>
          <label>Nome</label>
          {{ form.nome }} {{ form.nome.errors }}
        </div>
      </div>

      <div style="display:grid; gap:12px; grid-template-columns: 1fr 1fr 1fr;">
        <div>
          <label>Categoria</label>
          {{ form.categoria }} {{ form.categoria.errors }}
        </div>
        <div>
          <label>Tamanho</label>
          {{ form.tamanho }} {{ form.tamanho.errors }}
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
          <label>Ativo</label>
          {{ form.ativo }}
        </div>
      </div>

      <div style="display:flex; gap:8px;">
        <a class="btn outline" href="{% url 'app_epis:lista' %}">Cancelar</a>
        <button class="btn" type="submit">Salvar</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}

{% block extra_js %}<script src="{% static 'app_epis/js/main.js' %}"></script>{% endblock %}
